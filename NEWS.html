<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>news ‚Äì tinyplot</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">tinyplot</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/grantmcdermott/tinyplot"> <i class="bi bi-github" role="img" aria-label="tinyplot GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./NEWS.html">News</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vignettes/intro_tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vignettes/gallery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gallery</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Reference</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man/draw_legend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">draw_legend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man/get_saved_par.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">get_saved_par</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man/tinyplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tinyplot</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man/tpar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tpar</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./NEWS.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">News</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./LICENSE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">License</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CITATION.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Citation</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#news" id="toc-news" class="nav-link active" data-scroll-target="#news">News</a>
  <ul class="collapse">
  <li><a href="#development-version" id="toc-development-version" class="nav-link" data-scroll-target="#development-version">0.2.0.99 (development version)</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">0.2.0</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">0.1.0</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">0.0.5</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">0.0.4</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4">0.0.3</a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5">0.0.2</a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6">0.0.1</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="news" class="level1">
<h1>News</h1>
<p><em>If you are viewing this file on CRAN, please check the <a href="https://grantmcdermott.com/tinyplot/NEWS.html">latest NEWS</a> on our website where the formatting is also better.</em></p>
<section id="development-version" class="level2">
<h2 class="anchored" data-anchor-id="development-version">0.2.0.99 (development version)</h2>
<p>Bug fixes:</p>
<ul>
<li>Fix duplicate plots produced with <code>type = "density"</code>, which was a regression accidentally introduced in v0.2.0 (<a href="https://github.com/grantmcdermott/tinyplot/issues/187">#187</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>New Features:</p>
<ul>
<li>The <code>axes</code> argument of <code>tinyplot()</code>/<code>plt()</code> gains extra options for fine-grained control of the plot axes. In addition to the existing logical (<code>TRUE</code>/<code>FALSE</code>) option, users can now specify one of the following character keywords (or, just their first letters as a convenient shorthand): <code>"standard"</code> (with axis, ticks, and labels; equivalent to <code>TRUE</code>), <code>"none"</code> (no axes; equivalent to <code>FALSE</code>), <code>"ticks"</code> (only ticks and labels without axis line), <code>"labels"</code> (only labels without ticks and axis line), <code>"axis"</code> (only axis line and labels but no ticks). Simultaneously, the main plotting functions also gain the <code>xaxt</code> and <code>yaxt</code> for <em>separately</em> controlling the two axes using the same keyword options. For example, <code>plt(0:10, xaxt = "l", yaxt = "t")</code> will yield a plot where the x-axis only contains labels and the y-axis contains both labels and ticks, but no axis line. (<a href="https://github.com/grantmcdermott/tinyplot/issues/190">#190</a> <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a>)</li>
</ul>
<p>Internals:</p>
<ul>
<li>Continued modularization of the main code logic. (<a href="https://github.com/grantmcdermott/tinyplot/issues/192">#192</a> <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a>)</li>
</ul>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section">0.2.0</h2>
<p>New features:</p>
<ul>
<li>Support for additional plot types:
<ul>
<li><code>type = "n"</code>, i.e.&nbsp;empty plot. Since <code>type = "n"</code> implicitly assumes points, which limits the type of legend that can be drawn alongside the empty plot, we have also added a companion <code>empty</code> argument that can be used alongside any plot type. (<a href="https://github.com/grantmcdermott/tinyplot/issues/157">#157</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/167">#167</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>type = "boxplot"</code>. Simultaneously enables <code>plt(numeric ~ factor)</code> support, first raised in <a href="https://github.com/grantmcdermott/tinyplot/issues/2">#2</a>, so that a boxplot is automatically plotted if a numeric is plotted against a factor. (<a href="https://github.com/grantmcdermott/tinyplot/issues/154">#154</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>type = "polypath"</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/159">#159</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>type = "rect"</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/161">#161</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>type = "segments"</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/163">#163</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>type = "histogram"</code> (alias <code>type = "hist"</code>). (<a href="https://github.com/grantmcdermott/tinyplot/issues/164">#164</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>type = "jitter"</code> (alias <code>type = "j"</code>). (<a href="https://github.com/grantmcdermott/tinyplot/issues/170">#170</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul></li>
</ul>
<p>Internals:</p>
<ul>
<li>The main codebase has been significantly refactored (modularized), which should simplify future maintenance and enable better user-level error messages (<a href="https://github.com/grantmcdermott/tinyplot/issues/171">#171</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/173">#173</a> <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a>)</li>
</ul>
<p>Misc:</p>
<ul>
<li>Various documentation improvements.</li>
</ul>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1">0.1.0</h2>
<p>Our first CRAN submission! This v0.1.0 release includes the following new features and updates:</p>
<p>License:</p>
<ul>
<li>Formally switch to Apache 2.0 license. (<a href="https://github.com/grantmcdermott/tinyplot/issues/141">#141</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>Breaking changes:</p>
<ul>
<li>To ensure consistent ‚Äúdot.case‚Äù style for all <code>tinyplot()</code> function arguments, the following two arguments have been renamed (<code>old</code> =&gt; <code>new</code>):
<ul>
<li><code>par_restore</code> =&gt; <code>restore.par</code> (note the change in word order too!)</li>
<li><code>ribbon_alpha</code> =&gt; <code>ribbon.alpha</code></li>
</ul>
We don‚Äôt believe that these two arguments are much used in practice. So hopefully it will only have a negligible effect on existing <code>tinyplot</code> code in the wild, even though it is a breaking change. (<a href="https://github.com/grantmcdermott/tinyplot/issues/149">#149</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>New features:</p>
<ul>
<li>Gradient legends are now supported if a continuous variable is passed to <code>by</code>. Thanks to <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a> for detailed feedback and advice around the default palette choice (a restricted version of the ‚Äúviridis‚Äù palette), as well as StackOverflow user mnel, whose answer <a href="https://stackoverflow.com/a/13355440">here</a> provided the inspiration for the final implementation. (<a href="https://github.com/grantmcdermott/tinyplot/issues/122">#122</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Ordered factors now inherit a discrete sequential color palette (‚Äúviridis‚Äù) by default. Thanks to <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a> for the suggestion. (<a href="https://github.com/grantmcdermott/tinyplot/issues/130">#130</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Support user-supplied polygons. (<a href="https://github.com/grantmcdermott/tinyplot/issues/127">#127</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Support for the <code>lwd</code> argument for adjusting line widths. Similar to <code>pch</code>, <code>lty</code>, etc. this arguments also accepts a ‚Äúby‚Äù convenience keyword to automatically vary line widths by group. (<a href="https://github.com/grantmcdermott/tinyplot/issues/134">#134</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>tpar()</code> now accepts standard <code>par()</code> arguments in addition to the <code>tinyplot</code>-specific ones. This allows users to set or query graphical parameters via a single convenience function, instead having to invoke <code>tpar</code> and <code>par</code> separately. (<a href="https://github.com/grantmcdermott/tinyplot/issues/140">#140</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)
<ul>
<li>As an aside, <code>tpar()</code> has gained some additional parameters for fine-grained control of global plot defaults, including <code>grid</code>, <code>ribbon.alpha</code>, and various <code>file.*</code> parameters (see next bullet point).</li>
</ul></li>
<li>Users can write plots directly to disk using the new <code>file</code> argument, alongside corresponding <code>width</code> and <code>height</code> arguments for output customization (both of which are defined in inches). For example, <code>tinyplot(..., file = "~/myplot.png", width = 8, height = 5)</code>. This implementation relies on a simple internal wrapper around the traditional R external graphics devices like <code>png()</code>, <code>pdf()</code>, etc. But it may prove more convenient, since the current global graphics parameters held in <code>(t)par()</code> are carried over to the external device too and don‚Äôt need to be reset. Note that the appropriate device type is determined automatically by the file extension, which must be one of ‚Äú.png‚Äù, ‚Äú.jpg‚Äù (‚Äú.jpeg‚Äù), ‚Äú.pdf‚Äù, or ‚Äú.svg‚Äù. (<a href="https://github.com/grantmcdermott/tinyplot/issues/143">#143</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>We have a shiny new <code>tinyplot</code> logo. (<a href="https://github.com/grantmcdermott/tinyplot/issues/148">#148</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>The new <code>get_saved_par()</code> function can be used to retrieve the <code>par</code> settings from immediately before or immediately after the preceding <code>tinyplot</code> call. This function replaces some older (non-exported) internal functions that <code>tinyplot</code> was using to restore and control <code>par</code> environments. But it could also prove help to end users who are looking for additional ways to restore <code>par</code> settings after the fact. See <code>?get_saved_par</code> for some examples. (<a href="https://github.com/grantmcdermott/tinyplot/issues/152">#152</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>tinyplot</code>/<code>plt</code> gaina a new <code>alpha = &lt;numeric[0,1]&gt;</code> convenience argument for adding transparency to plot elements and colours. Example use: <code>plt(rnorm(1e3), pch = 19, alpha = 0.3)</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/129">#129</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Similar to the preceding news item, transparency can be added to (grouped) background fill by passing <code>bg</code> (or its alias, <code>fill</code>) a numeric in the range <code>[0,1]</code>. This feature has the same effect as <code>bg = "by"</code> except for the added transparency. Example use: <code>plt(lat ~ long | depth, data = quakes, pch = 21, cex = 2, bg = 0.2)</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/129">#129</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Fixed bug that prevented <code>tpar(facet.x = ...)</code> args from being passed forward and set correctly. (<a href="https://github.com/grantmcdermott/tinyplot/issues/137">#137</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Fixed bug where custom legends weren‚Äôt working with <code>type = "density"</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/147">#147</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>Internals:</p>
<ul>
<li>We no longer ship the vignette(s) with the built package. This helps to reduce the size of the installation tarball and also avoids some redundancy with the actual help documentation (since many of the examples are the same). Note that the vignettes are all still rendered and available online at the <code>tinyplot</code> <a href="https://grantmcdermott.com/tinyplot/">website</a>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/135">#135</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Similarly, we anticipate skipping tests on CRAN since the large suite of test snapshots (images) held in <code>inst/tinytest</code> is pushing the install tarball over CRAN‚Äôs recommended 5 MB limit. Please note that local testing of the package requires adding the <code>NOT_CRAN=TRUE</code> environment variable to your .Renviron file (or, exporting it in your .bashrc/.zshrc/etc. dotfile if you prefer that approach). (<a href="https://github.com/grantmcdermott/tinyplot/issues/145">#145</a> <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a> &amp; <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Update some test snapshots to match slight changes in the way that R 4.4.0 calculates <code>density</code> grid coords. (<a href="https://github.com/grantmcdermott/tinyplot/issues/150">#150</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2">0.0.5</h2>
<p><strong>IMPORTANT BREAKING CHANGE:</strong></p>
<p>The package has been renamed to <strong>tinyplot</strong>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/22">#22</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</p>
<p>This package renaming also incorporates the following function changes:</p>
<ul>
<li><code>plot2()</code> is replaced by <code>tinyplot()</code> (or its shorthand alias <code>plt()</code>).</li>
<li><code>par2()</code> is replaced by <code>tpar()</code>.</li>
</ul>
<p>So, where you used to write‚Ä¶</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot2</span>(Sepal.Length <span class="sc">~</span> Petal.Length <span class="sc">|</span> Species, iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>‚Ä¶ you should now write:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinyplot)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tinyplot</span>(Sepal.Length <span class="sc">~</span> Petal.Length <span class="sc">|</span> Species, iris)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or, use the equivalent shorthand `plt` alias</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plt</span>(Sepal.Length <span class="sc">~</span> Petal.Length <span class="sc">|</span> Species, iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The package URLs have been updated accordingly:</p>
<ul>
<li>GitHub: https://github.com/grantmcdermott/tinyplot</li>
<li>Website: https://grantmcdermott.com/tinyplot</li>
<li>R-universe: https://grantmcdermott.r-universe.dev/tinyplot</li>
</ul>
<p>Many thanks to everyone who provided thoughtful feedback about this prospective name change, especially <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a> and <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a> for kicking off the discussion, as well as the 100+ participants who voted in the social media poll.</p>
<p>For more details about the rational underlying this renaming decision, please see the following GitHub comment, as well as the discussion that preceded it: https://github.com/grantmcdermott/plot2/issues/22#issuecomment-1928472754</p>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3">0.0.4</h2>
<p>Website:</p>
<p>We now have a dedicated website! (<a href="https://github.com/grantmcdermott/tinyplot/issues/80">#80</a> <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a>)</p>
<p>New features:</p>
<ul>
<li>Support for <code>cex</code> and <code>bg</code> (alias <code>fill</code>) arguments. The latter also permit the ‚Äúby‚Äù convenience keyword similar to <code>lty</code> and <code>pch</code>. This is useful for plotting filled point characters (e.g., pch = 21), where you want a different colour for the fill and border. (<a href="https://github.com/grantmcdermott/tinyplot/issues/50">#50</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/75">#75</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Support for filled density plots. (<a href="https://github.com/grantmcdermott/tinyplot/issues/58">#58</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>The new <code>add</code> argument allows new plot2 objects to be added to / on top of the existing plot window. (<a href="https://github.com/grantmcdermott/tinyplot/issues/60">#60</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Support for one-sided formulas, e.g.&nbsp;<code>plot2(~ Temp | Month, airquality)</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/62">#62</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a> and <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a>)</li>
<li>Support for <code>plot2(x, type = "density")</code> as an alternative to <code>plot2(density(x))</code>. Works for both the atomic and one-sided formula methods. (<a href="https://github.com/grantmcdermott/tinyplot/issues/66">#66</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Support for ‚Äúarea‚Äù type plots as a special case of ribbon plots. (<a href="https://github.com/grantmcdermott/tinyplot/issues/68">#68</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Partial matching for palette keywords. (<a href="https://github.com/grantmcdermott/tinyplot/issues/74">#74</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li><code>plot2</code> gains a new <code>facet</code> argument for drawing faceted plots. Users can override the default square arrangement by passing the desired number of facet rows or columns to the companion <code>facet.args</code> helper function. Facets can be combined with <code>by</code> grouping, or used on their own. (<a href="https://github.com/grantmcdermott/tinyplot/issues/83">#83</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/91">#91</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/94">#94</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/96">#96</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/101">#101</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/103">#103</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Users can now control <code>plot2</code>-specific graphical parameters globally via the new <code>par2()</code> function (which is modeled on the base <code>par()</code> function). At the moment only a subset of global parameters, mostly related to legend and facet behaviour, are exposed in <code>par2</code>. But users can expect that more will be added in future releases. (<a href="https://github.com/grantmcdermott/tinyplot/issues/33">#33</a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/94">#94</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Y-label correctly prints if a function was used for the atomic plot method, e.g.&nbsp;<code>plot2(rnorm(100)</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/52">#52</a> etiennebacher)</li>
<li>Ribbon plot types are now automatically ordered by the x variable. (<a href="https://github.com/grantmcdermott/tinyplot/issues/54">#54</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Interval plots like ribbons, errorbars, and pointranges are now correctly plotted even if a y variable isn‚Äôt specified. (<a href="https://github.com/grantmcdermott/tinyplot/issues/54">#54</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Correctly label date-time axes. (<a href="https://github.com/grantmcdermott/tinyplot/issues/77">#77</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a> and <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a>)</li>
<li>Improved consistency of legend and facet margins across different plot types and placement, via the new <code>lmar</code> and <code>fmar</code> arguments of <code>par2()</code>. The default legend margin is <code>par2(lmar = c(1,0, 0.1)</code>, which means that there is 1.0 line of padding between the legend and the plot region (inside margin) and 0.1 line of padding between the legend and edge of the graphics device (outer margin). Similarly, the default facet padding is <code>par2(fmar = c(1,1,1,1)</code>, which means that there is a single line of padding around each side of the individual facets. Users can override these defaults by passing numeric vectors of the appropriate length to <code>par2()</code>. For example, <code>par2(lmar = c(0,0.1)</code> would shrink the inner gap between the legend and plot region to zero, but leave the small outer gap to outside of the graphics device unchanged. (<a href="https://github.com/grantmcdermott/tinyplot/issues/94">#94</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Fix bug where grid wasn‚Äôt auto-expanding correctly for area plots. (<a href="https://github.com/grantmcdermott/tinyplot/issues/92">#92</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4">0.0.3</h2>
<p>Breaking changes:</p>
<ul>
<li>Colour palettes are now controlled via a single <code>palette</code> argument that unifies the old <code>palette</code> and (deprecated) <code>palette.args</code> arguments. In addition, the default palette for small groups has been changed from ‚ÄúOkabe-Ito‚Äù to ‚ÄúR4‚Äù. (<a href="https://github.com/grantmcdermott/tinyplot/issues/31">#31</a> and <a href="https://github.com/grantmcdermott/tinyplot/issues/32">#32</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Legends are now controlled via a single <code>legend</code> argument that unifies the previous (deprecated) <code>legend.position</code> and <code>legend.args</code> arguments. This change also enables several enhancements over the old legend behaviour; see below. (<a href="https://github.com/grantmcdermott/tinyplot/issues/34">#34</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>New features:</p>
<ul>
<li>Add support for the argument <code>log</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/15">#15</a> <a href="https://github.com/etiennebacher"><span class="citation" data-cites="etiennebacher">@etiennebacher</span></a>)</li>
<li>Add support for grouped density plots. (<a href="https://github.com/grantmcdermott/tinyplot/issues/18">#18</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Add support for (both grouped and non-grouped) ‚Äúc‚Äù, ‚Äúh‚Äù, ‚Äús‚Äù, and ‚ÄúS‚Äù types. (<a href="https://github.com/grantmcdermott/tinyplot/issues/26">#26</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Both the <code>pch</code> and <code>lty</code> arguments now accept a ‚Äúby‚Äù convenience keyword for automatically adjusting plot characters and line types by groups. (<a href="https://github.com/grantmcdermott/tinyplot/issues/28">#28</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Add outside (‚Äú!‚Äù) placement support for remaining legend keywords, e.g. ‚Äútop!‚Äù, ‚Äúleft!‚Äù, ‚Äútopright!‚Äù, etc. Users also gain finer control over many other aspects of the legend via the new unified <code>legend</code> argument, including changing labels, turning of the legend title, and so on. (<a href="https://github.com/grantmcdermott/tinyplot/issues/34">#34</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Add support for <code>"pointrange"</code>, <code>"errobar"</code>, and <code>"ribbon"</code> plot types. (<a href="https://github.com/grantmcdermott/tinyplot/issues/35">#35</a> <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a>, <a href="https://github.com/grantmcdermott/tinyplot/issues/40">#40</a> and <a href="https://github.com/grantmcdermott/tinyplot/issues/46">#46</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Support <code>grid = TRUE</code> as an alternative to <code>grid = grid()</code>. (<a href="https://github.com/grantmcdermott/tinyplot/issues/43">#43</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Setting <code>par(pch=X)</code> globally is now respected. (<a href="https://github.com/grantmcdermott/tinyplot/issues/20">#20</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Fix x-axis scale/index when y is NULL. (<a href="https://github.com/grantmcdermott/tinyplot/issues/24">#24</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
<li>Setting a global palette, e.g.&nbsp;<code>palette("ggplot2")</code> is now respected. (<a href="https://github.com/grantmcdermott/tinyplot/issues/44">#44</a> <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>)</li>
</ul>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5">0.0.2</h2>
<p>Breaking changes:</p>
<ul>
<li>Legend defaults have been changed. The default position is now ‚Äúright!‚Äù and drawn without a border, i.e.&nbsp;bty = ‚Äún‚Äù (<a href="https://github.com/grantmcdermott/tinyplot/issues/14">#14</a> by <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>).</li>
</ul>
<p>New features:</p>
<ul>
<li>Allow users to specify different <code>pch</code>, <code>lty</code>, and <code>col</code> types per group (<a href="https://github.com/grantmcdermott/tinyplot/issues/5">#5</a> and <a href="https://github.com/grantmcdermott/tinyplot/issues/11">#11</a> by <a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a>).</li>
</ul>
<p>Bug fixes:</p>
<ul>
<li>Adding further elements to <code>plot2</code> now works (<a href="https://github.com/grantmcdermott/tinyplot/issues/13">#13</a> by <a href="https://github.com/grantmcdermott"><span class="citation" data-cites="grantmcdermott">@grantmcdermott</span></a>, thanks <a href="https://github.com/karoliskoncevicius"><span class="citation" data-cites="karoliskoncevicius">@karoliskoncevicius</span></a> for reporting).</li>
</ul>
<p>Internals:</p>
<ul>
<li>Better formula parsing for <code>plot2.formula</code> (<a href="https://github.com/grantmcdermott/tinyplot/issues/8">#8</a> by <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a>).</li>
<li>Unit testing scaffolding based on <strong>tinysnaphot</strong> (<a href="https://github.com/grantmcdermott/tinyplot/issues/11">#11</a> by <a href="https://github.com/vincent"><span class="citation" data-cites="vincent">@vincent</span></a>).</li>
</ul>
<p>Project:</p>
<ul>
<li><a href="https://github.com/vincentarelbundock"><span class="citation" data-cites="vincentarelbundock">@vincentarelbundock</span></a> and <a href="https://github.com/zeileis"><span class="citation" data-cites="zeileis">@zeileis</span></a> have joined the project as core contributors. üéâ</li>
</ul>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6">0.0.1</h2>
<ul>
<li>Initial release on GitHub.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>